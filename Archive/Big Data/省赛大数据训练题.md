# 说明

> 比赛时间 4 个小时整
>
> 不要查询资料
>
> 每个人用文档记录在比赛过程中遇到的 难点、考点。

## 任务一：Hadoop 相关组件安装部署（15 分）

当前环境中已安装 Hadoop 运行环境和 MySQL 数据库，相关安装信
息如下表所示，请在此环境基础上按照相关操作步骤安装 Hadoop 组件。

1. 将指定路径下的 Hive 安装包解压并更名；

2. 设置 Hive 环境变量；

3. 编辑 Hive 相关配置文件；

4. 初始化 Hive 元数据；

5. 启动并保存输出结果。

## 任务二：数据采集与数据预处理（20 分）

6. 从指定网站中 [马蜂窝厦门自由行攻略](http://www.mafengwo.cn/gonglve/ziyouxing/mdd_10132/ )抓取数据，提取所有文章数据，并保存为 json 格 式文件；   

7. 设置 post 请求参数并将信息返回给变量 response；

8. 将提取数据转化成 json 格式，并赋值变量；

9. 用 with 函数创建 json 文件，通过 json 方法，写入 json 数据；

10. 爬取的数据需要导入 hadoop 平台进行数据清洗与分析，在 HDFS 文件系统中创建文件夹，并将 json 文件上传到该文件夹下。
## 任务三：数据清洗与分析（25 分）

11. 为便于数据分析与可视化，需要对爬取出的数据进行清洗，使用 Java 语言编写数据清洗的 MapReduce 程序；

12. 将清洗程序上传至 hadoop，并对 HDFS 的原始数据进行清洗。清洗要求如下：

    （1） 去除 JSON 文件内的无关字段，只保留以下字段：

    ​			

    | id     | content  | creationTime | score | productColor | productSize  | nickname |
    | ------ | -------- | ------------ | ----- | ------------ | ------------ | -------- |
    | 评论id | 评论内容 | 创建时间     | 评分  | 产品颜色     | 产品内存大小 | 用户名   |

    ```python
    [
      {
        "data": [
          {
              "comments": [
              {
                "id": 13606050520,
                "content": "手感特别好，颜色很喜欢，大小很合适，特别好看，屏幕音效也特别好，特别特别喜欢，拍照效果也特别好，很清楚，运行速度那就没得说，特别快，面容特别快，待机也很好。这款机子颜色特别多，本人喜欢紫色，特意选了紫色很适合女性朋友们，淡淡的紫色很好看，双十二刚买的，领了400元的优惠券价格很合适，推荐大家购买，简直没得说",
                "creationTime": "2019-12-15 21:26:47",
                "score": 5,
                "productColor": "紫色",
                "productSize": "128GB",
                "nickname": "飞***4",
              },
              ....
         }
              ]
      }
    ]
    ```

    

13. 将清洗后的数据加载到 Hive 数据仓库中；

14. 通过运行 HQL 命令完成数据分析统计；

15. 在hive中执行sql脚本， 并查看表中手机颜色数据的出现次数。
## 任务四：数据可视化（20 分）
为更好的将数据分析结果表达出来，需要对数据分析的结束进行可视化呈现。本次数据可视化需要呈现以下几个图表。（其中每个图标应该都有toolbox，对于数据量大的图表应该带有 datazoom）

1. 按要求使用柱状图展示厦门市各个酒店的评论量，并在前端显示。要求：
      主标题：2019携程厦门市酒店评论数量分析
      副标题：（--数据截止2019年12月1日）
      横坐标：手机颜色信息，纵坐标：销售量

   输出柱状图

2. 按照下面的要求使用柱状图展示厦门市各个酒店的评分，并在前端展示。要求：

   主标题：2019厦门市酒店评分情况

   横坐标：酒店名称

   纵坐标：分数

   设置分段线：分段为4.5分

3. 按要求使用雷达图展示厦门市各区的酒店数量，并在
      前端显示。要求：
      主标题：2019厦门酒店各区分布数量
      副标题：（--数据来源：携程网）
      输出雷达图图

4.  通过饼图展厦门市5间房价最高的大床房酒店。要求：
      主标题：厦门市高级大床房一览表
      输出饼图

    #### 请结合数据分析结果回答以下问题：

17. 根据分析结果说明最热门的酒店在什么区，为什么
    
18. 根据分析结果说明厦门市"十佳酒店"分别分布在那几个地区

19. 根据图表分析，在十一黄金周，厦门哪个区旅游人数最多？为什么？
    
4. 请简述，如果王思聪来厦门游玩，会住哪个酒店，为什么？

5. （总结）试着分析厦门市区目前的酒店总体情况（比如）

   ### 竞赛结果提交要求：

      （一）文档要求
      任务成果需拷贝至提供的 U 盘中。在 U 盘中以 XX 工位号建一个文
      件夹（例如 01），将所有任务成果文档保存至该文件夹中。
      （二）文档要求
      竞赛提交的所有文档中不能出现参赛队信息和参赛选手信息，竞
      赛文档需要填写参赛队信息时以工位号代替（XX 代表工位号）。